---
layout: post
title: "Windows Installer XML (Wix) und Versionsnummern: Was zählt und was nicht."
date: 2012-12-09 23:07
author: robert.muehsig
comments: true
categories: [Allgemein]
tags: [Installer, Update, Wix]
language: de
---
{% include JB/setup %}
<p>Wer Setups / Installer (gibts da eigentlich ein Unterschied zwischen den Begriffen?) in der Windows Welt baut, der kennt vermutlich das <a href="http://wix.sourceforge.net">Windows Installer XML (Wix). Toolset</a>.</p> <p><strong>Versionsnummern in Wix</strong></p> <p>Beim Bauen des Installers kann man eine Versionsnummer nach dem üblichen System Major.Minor.Build.Revision festlegen, welche dann auch bei den Programmen in der Systemverwaltung dargestellt wird:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1678.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb836.png" width="534" height="135"></a> </p> <p><strong>Was im Upgrade-Fall zählt</strong></p> <p>Wenn die Software mit der Version 1.0.0.0 installiert wurde und man baut nun eine Version 2.0.0.0 installieren möchte erkennt Wix die alte Software automatisch und entfernt diese und fügt die neue dann hinzu – so bleibt das System clean.</p> <p>Problematisch wird es, wenn man nur die letzte Stelle der Version verändert: Darauf reagiert Wix nicht.</p> <p><strong>Beispiel:</strong></p> <p>Version 1.0.0.0 installiert und Version 1.0.0.1 wird ausgeliefert. In diesem Fall wird der Installer das alte Program nicht “löschen”, sondern es nochmal neu installieren. Erst bei der Versionsnummer 1.0.1.0 erkennt er, dass alte Versionen vorhanden sind und dann funktioniert der Upgrade-Prozess.</p> <p>Mehr zum Nachlesen gibt es <a href="http://wix.sourceforge.net/manual-wix3/major_upgrade.htm">auf den offiziellen Seiten</a>. </p> <p><strong>Wie bin ich zu dem Problem gekommen?</strong></p> <p>Ich bin auf das Problem gestoßen, da unser Nightly Build System bislang nach diesem System Versionsnummern generiert hat: 1.0.YYMM.DDBuildNumber – d.h. wenn ich täglich den Nightly Build installiere hätte ich am Ende des Monats mein System etwas vollgestopft mit unnötigen Ballast ;)</p> <p>Vielen Dank auch an <a href="https://twitter.com/Cayas_Software">Sebastian Seidel</a> – welcher per Twitter immer gute Tipps zum Thema Installer geben kann.</p> <p><strong>Zusammenfassung:</strong></p> <p>Wix-Versionssystem: Nummer.Nummer.Nummer.IstEgal</p>
