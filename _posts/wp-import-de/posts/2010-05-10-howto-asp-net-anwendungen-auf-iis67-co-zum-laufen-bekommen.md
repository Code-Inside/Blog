---
layout: post
title: "HowTo: ASP.NET Anwendungen auf IIS6/7 & co. zum Laufen bekommen"
date: 2010-05-10 21:58
author: robert.muehsig
comments: true
categories: [HowTo]
tags: [ASP.NET, HowTo, IIS]
language: de
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images/image968.png"><img style="border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb153.png" width="159" height="77" /></a>Der IIS (insbesondere der IIS6) kann sich unter Umständen recht zickig anstellen wenn man eine ASP.NET (oder noch schlimmer: ASP.NET MVC) Anwendung zum Laufen bekommen möchte. Hier ein paar zusammengestellte Tipps für Windows Server 2003 (IIS6) und spätere Versionen. (IIS7 / IIS7.5)</p>  <p></p>  <p>Die Tipps gelten für Windows Server 2003 bzw. höhere Versionen - auch wenn es da deutlich einfacher geworden ist.</p>  <ul>   <li>Ist die richtige .NET Version auf dem Server installiert?</li>    <ul>     <li>Nachprüfen kann man das entweder über Programme/Software in der Systemsteuerung oder man schaut mal in den GAC (C:\Windows\assembly) ob dort .NET DLLs mit der nötigen Versionsnummer da sind.</li>      <li>Wenn es nicht installiert ist: Einfach die neuste Version installieren.</li>   </ul>    <li>Ist auf dem Windows Server überhaupt der IIS installiert?</li>    <ul>     <li>Nachprüfen kann man das in der Systemsteuerung unter Software/Programme. Der IIS ist unter den Windows Komponenten zu finden.</li>      <li>Wenn er nicht installiert ist: Den nächsten Punkt noch beachten.</li>   </ul>    <li>Ist im IIS die .NET Unterstützung mit installiert? Im IIS 7 gibt es so genannte "Anwendungsentwicklungsfeatures” - dort ASP.NET mit anklicken. Im IIS6 gibt es glaub ich was ähnliches.</li>    <li>Jetzt muss man rausbekommen unter welcher Version die Anwendung laufen lassen möchte:</li>    <ul>     <li>Im IIS6 ist das etwas magisch. Auf 32bit Maschinen gibt es unter Eigenschaften einer Webseite einen ASP.NET Tab - auf einer 64bit Maschine muss man erst mal irgendwelche <a href="http://weblogs.asp.net/plip/archive/2006/05/25/Where_2700_s-the-ASP.NET-Tab-in-IIS_3F00_-It_2700_s-Missing_2100_-I_2700_ve-installed-.NET-2.0-_2E002E002E00_.aspx">RegistryKeys umändern</a>. Allerdings läuft bei mir eine ASP.NET MVC Anwendung im IIS6 auch ohne das ich diesen Reiter hab. Wer ihn sieht, sollte mal nachschauen ob dort evtl. ASP.NET 1.1 ausgewählt ist.</li>      <li>Im IIS7 (und IIS7.5) wird dies über die Anwendungspools geregelt<a href="{{BASE_PATH}}/assets/wp-images/image969.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb154.png" width="244" height="219" /></a> </li>   </ul>    <li>Ganz wichtig: asp_regiis.exe</li>    <ul>     <li>Diese Datei registriert macht ein paar wichtige Änderungen am IIS. Bis .NET 4.0 muss man diese Datei ausführen:</li>      <ul>       <li>C:\Windows\Microsoft.NET\Framework\v2.0.50727\asp_regiis.exe -i</li>     </ul>      <li>Ab .NET 4.0 gibt es eine neue Variante unter der Frameworkversion v4... </li>   </ul>    <li>Wenn man eine ASP.NET MVC Anwendung unter IIS6 zum Laufen bringen soll: Ein Wildcard Mapping auf die aspnet_isapi.dll &amp; deaktivieren von "Verify that the file exists” unter den Konfigurationsoptionen im Basisverzeichnis Tab oder <a href="http://blog.stevensanderson.com/2008/07/04/options-for-deploying-aspnet-mvc-to-iis-6/">diese Tipps</a> befolgen: <a href="{{BASE_PATH}}/assets/wp-images/image970.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; margin-left: 0px; border-top: 0px; margin-right: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb155.png" width="263" height="291" /></a> </li> </ul>  <p></p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>Wenn diese Punkte schon mal erfüllt sind, kann es z.B. noch ein Problem mit Schreibrechten geben bzw. wenn die Anwendung unter einem speziellen Account läuft zu Problemen kommen.</p>  <ul>   <li>Hat der User unter dem die Anwendung läuft Schreib- &amp; Leserechte auf den Ordner. Siehe auch <a href="{{BASE_PATH}}/2010/04/29/iis6-fix/">hier</a>.</li>    <li>Ist der User unter dem die Anwendung läuft auch Mitglied der Windows Gruppe IIS_WPG (IIS6) bzw. IIS_IUSRS</li> </ul>  <p>Wenn es nicht eine ganz exotische Anwendung ist, sollte diese spätestens nun auch laufen. Ansonsten lohnt ein Blick in den Windowslog. Wenn ich doch etwas vergessen habe, dann werde ich dies hier weiterführen :)</p>
