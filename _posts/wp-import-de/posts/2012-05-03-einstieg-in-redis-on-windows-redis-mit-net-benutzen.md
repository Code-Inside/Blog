---
layout: post
title: "Einstieg in Redis on Windows & Redis mit .NET benutzen"
date: 2012-05-03 00:35
author: robert.muehsig
comments: true
categories: [HowTo]
tags: [NoSQL, Redis, Windows]
language: de
---
{% include JB/setup %}
<p><a href="http://redis.io/">Redis</a> gehört zu den NoSQL Datenbanken und ist dort in der Familie der Key-Value Stores zu finden. Redis wird oft mit “Blazing Fast” betitelt und laut dem <a href="http://stackoverflow.com/questions/5252577/how-much-faster-is-redis-than-mongodb">Stackoverflow Thread</a> soll es im Vergleich zu MongoDB zweimal (beim Schreiben) und sogar dreimal (beim Lesen) so schnell sein wie MongoDB – auch wenn der Vergleich etwas “hinkt” (Dokumentendatenbank vs. Key-Value).</p> <p><strong>Redis wird auf Windows portiert (und vll. als Azure Service implementiert)</strong></p> <p><a href="http://blogs.msdn.com/b/interoperability/archive/2012/04/12/announcing-one-more-way-microsoft-will-engage-with-the-open-source-and-standards-communities.aspx">Microsofts Open Source Abteilung</a> ist unterdessen fleissig daran Redis überhaupt auf Windows zum Laufen zu bekommen. Ein <a href="http://blogs.msdn.com/b/interoperability/archive/2012/04/26/here-s-to-the-first-release-from-ms-open-tech-redis-on-windows.aspx">erster Wurf wurde letzte Woche erzielt</a>. Microsoft hatte die <a href="https://github.com/MSOpenTech/redis">Ergebnisse auf GitHub</a> gestellt – auch wenn es noch ein weiter Weg bis zum Produktiveinsatz auf Windows ist.</p> <p><strong>Redis als Service für Azure?</strong></p> <p>Ein der ersten Kommentare geht direkt Richtung Azure:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1529.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb694.png" width="586" height="84"></a></p> <p>Die Antwort ließ nicht lange auf sich warten:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1530.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb695.png" width="589" height="120"></a></p> <p>Schauen wir mal, wann das Wirklichkeit wird. Nebenbei erwähnt: Es gibt natürlich schon einige <a href="http://www.cloudhostingguru.com/redis-server-hosting.php">Redis Hoster</a>.</p> <p><strong>Redis für Windows zum Laufen bekommen.</strong></p> <p>Bevor es in der Cloud läuft, lassen wir Redis erst einmal auf unserer Windows Umgebung überhaupt zum Laufen bekommen. Aktuell (Anfang Mai 2012) muss man diesen <a href="https://github.com/MSOpenTech/redis/tree/bksavecow">Dev Branch runterladen</a> und die RedisServer.sln mit Visual Studio öffnen:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1531.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb696.png" width="288" height="325"></a></p> <p>Die Solution (bestehend aus C++ Projekten) muss gebaut werden:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1532.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb697.png" width="244" height="198"></a></p> <p>Je nach Konfiguration hat man entweder den <strong>msvs\Debug</strong> Ordner oder den <strong>msvs\Release</strong> Ordner. Der Ordner enthält eine ganze Menge Dateien, darunter auch die <strong>redis-server.exe.</strong></p> <p><strong>Server Starten</strong></p> <p>Nach dem Starten des Servers steht auch der Server Port da (etwas versteckt bzw. ungünstig umgebrochen, aber er ist da)</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/SNAGHTMLd00e987.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="SNAGHTMLd00e987" border="0" alt="SNAGHTMLd00e987" src="{{BASE_PATH}}/assets/wp-images-de/SNAGHTMLd00e987_thumb.png" width="501" height="265"></a></p> <p><strong>Redis &amp; .NET AKA Rumspielen mit der API</strong></p> <p>Kurze Warnung noch: Ich hab keine Ahnung, was genau ich mit Redis machen möchte – pures Interesse und Spieltrieb.</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1533.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb698.png" width="381" height="222"></a></p> <p>Zur Demo mal schnell ein MVC Projekt angelegt und via NuGet nach Redis gesucht:</p> <p>ServiceStack.Redis – klingt gut!</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/SNAGHTMLd040daa.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="SNAGHTMLd040daa" border="0" alt="SNAGHTMLd040daa" src="{{BASE_PATH}}/assets/wp-images-de/SNAGHTMLd040daa_thumb.png" width="500" height="345"></a></p> <p>Democode:</p> <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:a4264196-1f20-4255-b277-b52ba412f148" class="wlWriterEditableSmartContent"><pre name="code" class="c#">        public ActionResult Index()
        {
            RedisClient client = RedisClientFactory.Instance.CreateRedisClient("localhost",6379);
            client.Add("Test", Guid.NewGuid());

            var result = client.Get&lt;Guid&gt;("Test");

            ViewBag.Message = "Welcome Redis: " + result;

            return View();
        }
</pre></div>





<p>Und siehe da: Es wird eine GUID angezeigt.</p>
<p><a href="{{BASE_PATH}}/assets/wp-images-de/image1534.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb699.png" width="352" height="169"></a></p>
<p>In der Konsole tut sich unterdessen auch einiges:</p>
<p><a href="{{BASE_PATH}}/assets/wp-images-de/SNAGHTMLd074196.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="SNAGHTMLd074196" border="0" alt="SNAGHTMLd074196" src="{{BASE_PATH}}/assets/wp-images-de/SNAGHTMLd074196_thumb.png" width="529" height="280"></a></p>





<p><strong>Wann sollte ich Redis nehmen? Was ist gut, was ist schlecht?</strong></p>
<p>Da ich selber noch keine Erfahrung in Redis hab, möchte ich gerne die Meinungen auf <a href="http://www.knowyourstack.com/what-is/redis"><strong>KnowYourStack.com zu Redis</strong></a> sammeln:<strong> </strong><a href="http://www.knowyourstack.com/when-should-i-use/redis"><strong>Warum nutzen?</strong></a><strong> </strong><a href="http://www.knowyourstack.com/why/redis/rocks"><strong>Was ist gut?</strong></a><strong> </strong><a href="http://www.knowyourstack.com/why/redis/sucks"><strong>Was ist schlecht?</strong></a></p>
