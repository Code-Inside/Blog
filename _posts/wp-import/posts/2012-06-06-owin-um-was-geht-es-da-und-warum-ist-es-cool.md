---
layout: post
title: "OWIN- um was geht es da und warum ist es cool?"
date: 2012-06-06 23:12
author: robert.muehsig
comments: true
categories: [Allgemein, HowTo]
tags: [OWIN, Web]
---
{% include JB/setup %}
<p><a href="http://owin.org/#projects">OWIN</a> steht für “Open Web Interface for .NET” und ist eine Spezifikation wie .NET Web Server und Web Applikation miteinander kommunizieren. </p> <p><strong>.NET Web Server – meintest du den IIS?</strong></p> <p>Hier kommt quasi gleich zu Beginn der erste Höhepunkt: Es gibt noch andere “.NET” Web Server, der IIS ist natürlich der Standard, aber natürlich auch eine äußerst “heftige” Applikation. </p> <p><strong>OWIN – Big Picture</strong></p> <p><a href="http://whereslou.com/">Louis DeJardin</a>, ein Microsoft Mitarbeiter im ASP.NET Team, hat ein kleines Bild erstellt um OWIN und die Zusammenhänge seines <a href="https://github.com/owin/owin-sandbox/">OWIN-Sandbox Projekt</a> näher zu erläutern. Dazu gibt es auch noch einen ausgezeichneten <a href="http://whereslou.com/2012/05/14/owin-compile-once-and-run-on-any-server/">Blogpost</a>, welchen ich hier in Teilen auch wiedergebe.</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1565.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb726.png" width="426" height="497"></a></p> <p><strong>Gehen wir näher auf die einzelnen Teile ein:</strong></p> <p>Katana.exe ist eine Art “Sandbox” für den gesamten Webstack. </p> <p>Erster blauer Kasten mit “server.dll”, “Kayak”, “HttpListener”: Das sind die verschieden “Web Server”. Die server.dll repräsentiert am Ende das, was wir auch vom IIS her kennen. Der HttpListener ist ebenfalls eine Betriebssystem / Framework Komponente und wurde z.B. auch in der WCF und WebApi Welt bereits mehrfach genutzt. <a href="http://kayakhttp.com/">Kayak</a> hingegen ist ein .NET Web Server in <a href="https://github.com/kayak/kayak">C# geschrieben</a> (!).</p> <p>Die orange Linie: Das ist das, was OWIN am Ende beschreibt. Danach folgt die “Middleware”, später im Code sieht man dies unter dem Namespace “Gate” </p> <p>Am Ende der Pipeline stehen verschiedene Web Frameworks, darunter z.B. <a href="http://nancyfx.org/">NancyFx</a> oder die WebApi. SignalR ist ebenfals “OWIN” kompatibel”.</p> <p><strong>OWIN Sandbox Projekt</strong></p> <p>Dieses Projekt ist (nach meinen Recherchen) aktuell der einfachste Weg ins OWIN Universum.</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1566.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: left; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb727.png" width="126" height="346"></a></p> <p>Im Download enthalten ist eine Solution mit verschiedenen Web-Projekten samt verschiedenen Arten OWIN zu nutzen.</p> <p>Wenn man nun die Projekte aus dem Visual Studio startet sieht man keine großen Überraschungen.</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p><strong>Jetzt kommt Katana ins Spiel:</strong></p> <p>Lädt man <a href="https://github.com/Katana/katana#readme">Katana</a> runter (bzw. bezieht es via <a href="{{BASE_PATH}}/2012/05/15/chocolateyapt-get-fr-windows/">Chocolatey</a>) kommt eigentlich erst wirklich der magische Moment:</p> <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:a1fe9c1e-a212-47a3-b9b7-1cd5e433bd45" class="wlWriterEditableSmartContent"><pre name="code" class="c#">cinst katana
git clone https://github.com/owin/owin-sandbox.git
cd owin-sandbox\src\Case05_JustNancy
msbuild
katana --server kayak</pre></div>
<p>&nbsp;</p>
<p>(Der MSBuild Befehl klappt nur, wenn man das Programm entsprechend in der Powershell registriert hat bzw. aus der VS Shell kommt).</p>
<p>Wir weisen mit dem unten aufgeführten Befehl Katana an einen Kayak Server zu starten – und siehe da:</p>
<p><a href="{{BASE_PATH}}/assets/wp-images/image1569.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb730.png" width="588" height="69"></a></p>
<p><a href="{{BASE_PATH}}/assets/wp-images/image1568.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb729.png" width="244" height="71"></a></p>
<p>Gänzlich ohne IIS Express, Cassini oder HttpListener können wir NancyFX nutzen! </p>
<p>Tipp: Visual Studio Instanzen sollten geschlossen sein – ansonsten scheint es Konflikte zu geben, wer sich auf den Socket verbinden kann und wer nicht. </p>
<p><strong>Freiheit schafft Kreativität</strong></p>
<p>Ich weiß zwar noch nicht ganz wozu ich es jetzt einsetzen müsste, aber in den anderen Web Frameworks ist dieses Vorgehen bereits mehrfach erprobt – insbesondere in der Ruby Welt und hat dort eine ganz Reihe von Web Frameworks inspiriert. Die Unabhängigkeit kann interessante neue Konstellationen hervorbringen und wird auch von Microsofts ASP.NET Team offen verfolgt. Cool, oder?</p>
<p><strong>Weitere Links</strong></p>
<p>Hanselman hat natürlich auch <a href="http://www.hanselman.com/blog/HanselminutesPodcast244KayakOWINOpenSourceWebServersAndMoreWithBenjaminVanDerVeen.aspx">schon darüber gebloggt</a> bzw. ein Podcast mit dem Schöpfer von Kayak vor einer ganzen Weile aufgenommen.</p>
<p>Auf GitHub gibt es im <a href="https://github.com/owin/owin/wiki">OWIN Wiki</a> auch einige Ausblicke und Informationen.</p>
