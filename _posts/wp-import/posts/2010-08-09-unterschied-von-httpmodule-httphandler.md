---
layout: post
title: "Unterschied von HttpModule & HttpHandler?"
date: 2010-08-09 22:47
author: robert.muehsig
comments: true
categories: [HowTo]
tags: [HowTo, HttpHandler, HttpModule]
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images/image1032.png"><img style="border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb216.png" width="170" height="130" /></a>Manche Sachen sind so trivial, dass man gar nicht mehr nachschaut. Da wird mal von einem "HttpModule” geredet (grundsätzlich sind "Module” ja so oder so immer ein gutes Schlagwort ;) ) oder von einem "HttpHandler”. Damit ich mir endlich mal merken kann, was genau die Unterscheidung zwischen den beiden ist, schreibe ich jetzt den Blogpost ;)</p> <!--more-->  <p><strong>Ein "HttpHandler”:</strong></p>  <p><a href="http://www.aspnetzone.de/blogs/peterbucher/">Peter Bucher</a> hat eine sehr nette Erklärung dazu geschrieben: </p>  <p>"<em>Ein Handler kann sich als Teil des Prozesses vorgestellt werden, der bei einem Request abgearbeitet wird.      <br />Wenn ein Request eintrifft, wird anhand von Mappings entschieden, welcher Handler den Request abarbeitet. </em></p>  <p><em>In ASP.NET gibt es schon mehrere bestehende Handler, der bekannteste von ihnen ist der Page Handler der auf alle Dateianforderungen mit der Endung *.aspx reagiert.      <br />Webservices *.asmx gehen auch durch einen spezifischen Handler. Sowie bspw. WebResource.axd.       <br />Die Klasse &quot;Page&quot;, die bzw. deren Ableitungen für jede ASPX Seite benutzt wird, stellt den oben genannten Handler dar.</em>”</p>  <p>In <a href="http://www.aspnetzone.de/blogs/peterbucher/archive/2007/11/20/daten-mit-asp-net-zum-client-schicken-oder-wieso-eigentlich-httphandler.aspx">dem Post</a> hat er noch allerlei Hintergrundinformation und auch ein Beispiel. Natürlich gibt es auch einen <a href="http://msdn.microsoft.com/de-de/library/ms227675(VS.80).aspx">MSDN Artikel</a> dazu.</p>  <p><u>Fazit:</u> Ein Handler reagiert am Ende des Requests auf irgendwas. </p>  <p>Wenn man einen eigenen HttpHandler erstellen möchte, dann muss man die Schnittstelle <a href="http://msdn.microsoft.com/de-de/library/7ezc17x8.aspx">IHttpHandler</a> implementieren und man muss den Handler z.B. in der web.config registrieren nach dem Motto: "Du reagierst jetzt auf alle seitenname.helloWorld GET Aufrufe.” Ich verweise nochmal <a href="http://www.aspnetzone.de/blogs/peterbucher/archive/2007/11/20/daten-mit-asp-net-zum-client-schicken-oder-wieso-eigentlich-httphandler.aspx">auf den Post von Peter</a>, weil er dort alles sehr gut erklärt hat :)</p>  <p>Was bedeutet die "<a href="http://msdn.microsoft.com/de-de/library/system.web.ihttphandler.isreusable.aspx">IsReuseable</a>” Property im <a href="http://msdn.microsoft.com/de-de/library/7ezc17x8.aspx">IHttpHandler</a> Interface?</p>  <p>Wenn man dort "true” zurück gibt, cacht die Applikation den HttpHandler. So könnte man z.B. im Konstruktor des HttpHandler einmal Daten laden und pro Request würde immer der gleiche Zustand benutzt werden. Das kann natürlich auch negative Aspekte haben. Der <a href="http://stackoverflow.com/questions/539302/significance-of-bool-isreusable-in-http-handler-interface">Stackoverflow Thread</a> hat mir zu dem Thema sehr geholfen.</p>  <p><strong>Ein "HttpModule”:</strong></p>  <p>HttpModule darf man sich wie Filter vorstellen. So gibt es z.B. ein Authentifzierungs-Modul usw. Diese reichen den Request durch oder manipulieren ihn. Ein HttpModule kann z.B. <a href="http://code-inside.de/blog/2009/10/14/howto-ein-httpmodule-zum-redirecten-nutzen/">ein Redirect durchführen</a>. </p>  <p>Um ein eigenes HttpModule zu bauen, muss man die Schnittstelle <a href="http://msdn.microsoft.com/de-de/library/system.web.ihttpmodule.aspx">IHttpModule</a> implementieren und das HttpModule auch registrieren. Am Ende geht der Request, wenn er von einem HttpModule nicht "abgelenkt” oder "beendet” wird, durch die verschiedenen Module und kommt irgendwann zu seinem HttpHandler.</p>  <p><strong>Kleines Schaubild:</strong></p>  <p><a href="{{BASE_PATH}}/assets/wp-images/image1033.png"><img style="border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb217.png" width="186" height="398" /></a> </p>  <p>So in etwa sollte der Ablauf sein. Natürlich könnte auch ein HttpModule bereits die Response zurück schicken und so den Verlauf des Requests beeinflussen.</p>  <p>Das Post beschreibt keine Raketenwissenschaft, aber manchmal ist es ganz nützlich zu wissen, wo die Unterschiede liegen ;)</p>
